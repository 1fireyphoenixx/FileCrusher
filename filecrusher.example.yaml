# Minimal runtime config for `filecrusher server --config ./filecrusher.yaml`

# Logging
log:
  # info | warning | error | debug
  level: "info"

db:
  path: "./data/filecrusher.db"

data_dir: "./data"

http:
  bind: "127.0.0.1"
  port: 5132
  # Max upload size for the Web UI (per request).
  max_upload_mb: 512
  tls:
    # TLS certificate used by BOTH:
    # - the HTTPS Web/Admin server (this port)
    # - FTPS (explicit TLS)
    #
    # If omitted (empty), FileCrusher uses the paths stored by `filecrusher setup`
    # in the SQLite config table (typically ./data/tls.crt and ./data/tls.key).
    #
    # To change the cert:
    # 1) Point these at your own PEM files and restart the server, OR
    # 2) Replace the existing ./data/tls.crt and ./data/tls.key files in-place.
    cert_path: "" # example: "./data/server.crt"
    key_path: ""  # example: "./data/server.key"

ssh:
  bind: "127.0.0.1"
  port: 2022
  # Optional. If omitted, server uses path stored by `filecrusher setup` in the DB config table.
  host_key_path: ""

ftp:
  # Plain FTP is insecure (cleartext creds). Keep disabled unless you truly need it.
  enable: false
  # Allow explicit TLS upgrade (AUTH TLS) on the FTP port.
  # This gives you a single port that can serve both legacy FTP and FTPES.
  explicit_tls: false
  port: 2121
  passive_ports: "50000-50100"
  public_host: ""

ftps:
  enable: true
  port: 2122
  passive_ports: "50000-50100"
  public_host: ""

# Implicit FTPS starts TLS immediately after TCP connect (typically port 990).
# Many clients infer implicit-vs-explicit by port number.
ftps_implicit:
  enable: false
  port: 990
  passive_ports: "50000-50100"
  public_host: ""

webdav:
  enable: false
  prefix: "/webdav"
